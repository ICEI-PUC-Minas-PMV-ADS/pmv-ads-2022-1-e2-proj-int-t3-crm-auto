<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultar Clientes</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    @*<link rel="stylesheet" href="~/css/menu-lista-cliente.css">*@
    <link rel="stylesheet" href="~/css/lista-cliente.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="~/js/cad-cliente.js"></script>
</head>
<body class="pt-5 body-pd" id="body-pd">
    <header class="header body-pd" id="header">
        <div class="header_toggle">
            <i class='bx bx-menu' id="header-toggle"></i>
        </div>
    </header>
    <div class="l-navbar show" id="nav-bar">
        <nav class="nav">
            <div> 
                <div href="HomePage#" class="col p-2">
                    <img src="images/crmautodark.jpg" class="img-fluid icn-crm-auto" alt="CRM Auto">
                </div>
                <div class="nav_list">
                    <a href="#" class="nav_link active"> 
                        <i class='bx bx-grid-alt nav_icon' data-bs-toggle="tooltip" title="Painel"></i> 
                        <span class="nav_name">Painel de controle</span> 
                    </a>
                    <a class="nav_link" asp-controller="Oficina" asp-action="BuscarServicos">
                        <i class='bx bx-message-square-detail nav_icon' data-bs-toggle="tooltip" title="Ordens de serviços"></i>
                        <span class="nav_name">Ordens de serviços</span>
                    </a>
                    <a class="nav_link" asp-controller="Oficina" asp-action="ListarClientes">
                        <i class='bi bi-people nav_icon' data-bs-toggle="tooltip" title="Clientes"></i>
                        <span class="nav_name">Clientes</span>
                    </a>
                    <a class="nav_link" asp-controller="Oficina" asp-action="BuscarOficinas">
                        <i class="bi bi-wrench-adjustable nav_icon" data-bs-toggle="tooltip" title="Oficina"></i>
                        <span class="nav_name">Oficina</span>
                    </a>
                    <a class="nav_link" asp-controller="Oficina" asp-action="BuscarFuncionariosEOficinas">
                        <i class='bi bi-person-video2 nav_icon' data-bs-toggle="tooltip" title="Funcionários"></i>
                        <span class="nav_name">Funcionários</span>
                    </a>
                    <a class="nav_link" asp-controller="Oficina" asp-action="CadastroVeiculo">
                        <i class='fa-solid fa-car nav_icon' data-bs-toggle="tooltip" title="Cadastro de veículo"></i>
                        <span class="nav_name">Cadastro de veículo</span>
                    </a>
                    <a href="#" class="nav_link">
                        <i class='bx bx-bar-chart-alt-2 nav_icon' data-bs-toggle="tooltip" title="Relatórios"></i>
                        <span class="nav_name">Relatórios</span>
                    </a>
                </div>
            </div>
            <a href="Homepage.html" class="nav_link">
                <i class='bx bx-log-out nav_icon' data-bs-toggle="tooltip" title="Sair"></i>
                <span class="nav_name">Sair</span>
            </a>
        </nav>
    </div>
    @RenderBody()
    <!-- Bootstrap 5.0.0 -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/table.js"></script>
    <script src="~/js/menu.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.10/vue.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function passarValores(){
            $("#table-lista-cliente").on("click", "tr", function(e) {
                let linhaContato = this;
                colunas = linhaContato.querySelectorAll("td");
                $("#inputId").val(colunas[0].innerText);
                $("#nomeCliente").val(colunas[1].innerText);
                $("#cpf_cnpj").val(colunas[2].innerText);
                $("#email").val(colunas[3].innerText);
                $("#tipo-pessoa").val(colunas[4].innerText);
                $("#idApelido").val(colunas[5].innerText);
                $("#idDtNascimento").val(colunas[6].innerText);
                $("#dataCadastro").val(colunas[7].innerText);
                $("#cep").val(colunas[8].innerText);
                $("#endereco").val(colunas[9].innerText);
                $("#numero").val(colunas[10].innerText);
                $("#complemento").val(colunas[11].innerText);
                $("#bairro").val(colunas[12].innerText);
                $("#cidade").val(colunas[13].innerText);
                $("#estado").val(colunas[14].innerText);
                $("#telefone").val(colunas[15].innerText);
                $("#celular").val(colunas[16].innerText);
                //$("#idMarcaVeiculo").val(colunas[25].innerText);
                $("#sModeloSelect").val(colunas[25].innerText);
                $("#placa").val(colunas[19].innerText);
                $("#motorizacao").val(colunas[20].innerText);
                $("#anoModelo").val(colunas[21].innerText);
                $("#renavan").val(colunas[22].innerText);
                $("#nomeCor").val(colunas[23].innerText);
                $("#quilometragem").val(colunas[24].innerText);
            });
        }

        function limpaCampos(){
            $("#inputId").val("");
            $("#nomeCliente").val("");
            $("#cpf_cnpj").val("");
            $("#email").val("");
            $("#tipo-pessoa").val("");
            $("#idApelido").val("");
            $("#idDtNascimento").val("");
            $("#dataCadastro").val("");
            $("#cep").val("");
            $("#endereco").val("");
            $("#numero").val("");
            $("#complemento").val("");
            $("#bairro").val("");
            $("#cidade").val("");
            $("#estado").val("");
            $("#telefone").val("");
            $("#celular").val("");
            $("#idMarcaVeiculo").val("");
            $("#sModeloSelect").val("");
            $("#placa").val("");
        }

        function SelectMarca(e){
            document.getElementById('sModeloSelect').options.length = 0;
            console.log(e.value)
            $.post("SelecionaModelosMarca", {IdMarca: e.value}, function(result,status,xhr) {
                console.log(`data: ${result}, status: ${status}`);
                if (status === 'success') {
                    const options = $("#sModeloSelect");
                    options.innerHTML = "";
                    for (let i = 0; i < result.length; i++) {
                        const item = result[i];
                        console.log(item)
                        options.append('<option value="' +item.idModelo + '">' + item.nomeModelo + '</option>');
                    }
                }
            })
        }

    </script>
</body>
</html>
