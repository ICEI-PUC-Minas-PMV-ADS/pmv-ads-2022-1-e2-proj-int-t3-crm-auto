@model CRM_Auto.Models.OficinaModel

@{
    Layout = "../Shared/_Layout_Cadastro_Funcionario.cshtml";
}

<header class="header" id="header">
        <div class="header_toggle">
            <i class='bx bx-menu' id="header-toggle"></i> 
        </div>
        <div id="header_user" class="header_img">
            <button id="dropdownMenuButton" type="button" class="btn btn-secondary btn-user dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="26" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 22">
                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"></path>
                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"></path>
                </svg>
            </button>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="#">Perfil</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Sair</a>
            </div>
        </div>
</header>

    <div class="l-navbar" id="nav-bar">
        <nav class="nav">
            <div> 
                <div href="#" class="col p-2">
                    <img src="~/img/crmautodark.jpg" class="img-fluid" alt="CRM Auto" style="width: 60%; height: auto; margin-left: -10px; margin-top: -15px;">
                </div>
                <div class="nav_list">
                    <a href="sucesso"> 
                        <i class='bx bx-grid-alt nav_icon' data-bs-toggle="tooltip" title="Painel"></i> 
                        <span class="nav_name">Painel</span> 
                    </a>
                    <a href="#" class="nav_link">
                        <i class='bx bx-message-square-detail nav_icon' data-bs-toggle="tooltip" title="Ordens de serviços"></i>
                        <span class="nav_name">Ordens de serviços</span>
                    </a>
                    <a href="#" class="nav_link">
                        <i class='bi bi-people nav_icon' data-bs-toggle="tooltip" title="Clientes"></i>
                        <span class="nav_name">Clientes</span>
                    </a>
                    <a href="#" class="nav_link">
                        <i class="bi bi-wrench-adjustable nav_icon" data-bs-toggle="tooltip" title="Oficina"></i>
                        <span class="nav_name">Oficina</span>
                    </a>
                    <a href="#" class="nav_link active">
                        <i class='bi bi-person-video2 nav_icon' data-bs-toggle="tooltip" title="Funcionários"></i>
                        <span class="nav_name">Funcionários</span>
                    </a>
                    <a href="#" class="nav_link">
                        <i class='bx bx-bar-chart-alt-2 nav_icon' data-bs-toggle="tooltip" title="Relatórios"></i>
                        <span class="nav_name">Relatórios</span>
                    </a>
                </div>
            </div>
            <a href="Homepage.html" class="nav_link">
                <i class='bx bx-log-out nav_icon' data-bs-toggle="tooltip" title="Sair"></i>
                <span class="nav_name">Sair</span>
            </a>
        </nav>
    </div>
    
    <div class="mx-auto" id="main"> 
    <h1>Oficinas</h1>

        <div class="container">
            <div class="row">
                <div class="input-group col-sm">
                    <span class="input-group-text" id="basic-addon1"><i class="bi bi-search small"></i></span>
                    <input id="tableSearch" type="text" class="form-control col-5" placeholder="Pesquise uma oficina" aria-label="Username" aria-describedby="basic-addon1">
                </div>
                <div class="col-sm">
                    <button type="button" class="btn btn-success btn-sm" data-toggle="modal" data-target="#addOficina"><i class="bi bi-plus"></i>Nova oficina</button>
                </div>
            </div>
        </div>

        @{
         <div onload="init" class="tbl-container bdr">
            <table class="table align-middle mb-0 bg-white table-striped table-bordered" id="showTable">
                <thead class="bg-light">
                    <tr>
                        <th>Nome</th>
                        <th>CNPJ</th>
                        <th>Contato</th>
                        <th>Endereço</th>
                        <th>Opções</th>
                    </tr>
                </thead>
                <tbody id="table-contatos">

                    @foreach (OficinaModel oficina in ViewBag.BuscarOficina)
                    {
                        <tr>
                            <td scope="row">
                                    <p class="fw-bold mb-1">@oficina.Nome_oficina</p>
                                    <p class="text-muted mb-0">@oficina.Apelido</p>
                            </td>
                            <td>
                                <p class="fw-normal mb-1">@oficina.Cnpj</p>
                            </td>
                            <td>
                                <p class="fw-normal mb-1">@oficina.Email</p>
                                <p class="fw-normal mb-1">@oficina.Telefone1</p>
                                <p class="fw-normal mb-1">@oficina.Telefone2</p>
                            </td>
                            <td>
                                <p class="fw-normal mb-1"> @oficina.Logradouro @oficina.Numero, @oficina.Complemento</p>
                                <p class="text-muted mb-0">@oficina.Bairro, @oficina.Cidade - @oficina.Cidade</p>
                                <p class="text-muted mb-0">CEP @oficina.Cep</p>
                            </td>
                            <td>
                                <button type="button"
                                    lass="btn btn-link btn-rounded btn-sm fw-bold"
                                    data-mdb-ripple-color="dark" data-placement="right" title="Edit" data-toggle="modal" data-target="#editOficina">
                                    <i class="bi bi-pencil-fill"></i>
                                </button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        }
    </div>

<!------------------------------------MODAL-------------------------------------->
@{
    <div class="modal fade modal-fullscreen-xl hide modal" id="addOficina" tabindex="-1" role="dialog" aria-labelledby="addOficinaLabel" aria-hidden="true" style="width: 100% !important; border: 0">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header border-bottom-0">
                    <h5 class="modal-title" id="addOficinaLabel">Cadastre uma nova oficina</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

            <form asp-controller="Oficina">
                <div class="modal-body">
                <div class="form-group col-5">
                    <label for="inputCNPJ">CNPJ (*)</label>
                    <input type="text" class="form-control" id="inputCNPJ" required placeholder="Informe o CNPJ " asp-for="Cnpj">
                </div>
                
                <div class="form-group col-8">
                    <label for="inputNome">Nome (*)</label>
                    <input type="text" class="form-control" id="inputNome" required placeholder="Informe o Nome" asp-for="Nome_oficina">
                </div>
                
                <div class="form-group col-8">
                    <label for="inputNome">Apelido (*)</label>
                    <input type="text" class="form-control" id="inputApelido" required placeholder="Informe o Apelido" asp-for="Apelido">
                </div>
                
                <div class="form-group col-8">
                    <label for="inputNome">Inscrição Estadual (*)</label>
                    <input type="text" class="form-control" id="inputInscrição Estadual" required placeholder="Informe a Inscrição Estadual" asp-for="Insc_estadual">
                </div>
                
                <div class="form-group col-8">
                    <label for="inputNome">Inscrição Municipal (*)</label>
                    <input type="text" class="form-control" id="inputInscrição Municipal" required placeholder="Informe a Inscrição Municipal" asp-for="Insc_municipal">
                </div>
                
                <div class="form-group col-6">
                    <label for="inputNome">CEP (*)</label>
                    <input type="text" class="form-control" id="inputCep" required placeholder="Informe o Cep" asp-for="Cep">
                </div>
        
                <div class="form-group col-8">
                    <label for="inputNome">Logradouro (*)</label>
                    <input type="text" class="form-control" id="inputLogradouro" required placeholder="Informe o Logradouro" asp-for="Logradouro">
                </div>
        
                <div class="form-group row">
                <div class="form-group col-4">
                    <label for="inputNome">Número (*)</label>
                    <input type="text" class="form-control" id="inputNumero" required placeholder="Informe o Número" asp-for="Numero">
                </div>
        
                <div class="form-group col-4">
                    <label for="inputNome">Complemento(*)</label>
                    <input type="text" class="form-control" id="inputComplemento" required placeholder="Complemento" asp-for="Complemento">
                </div>
                </div>
        
                <div class="form-group col-8">
                    <label for="inputNome">Bairro (*)</label>
                    <input type="text" class="form-control" id="inputBairro" required placeholder="Informe o Bairro" asp-for="Bairro">
                </div>
        
                <div class="form-group col-8">
                    <label for="inputNome">Cidade (*)</label>
                    <input type="text" class="form-control" id="inputCidade" required placeholder="Informe a Cidade" asp-for="Cidade">
                </div>
                
                <div class="form-group row">
                <div class="form-group col-6">
                    <label for="inputNome">Telefone 1 (*)</label>
                    <input type="text" class="form-control" id="inputTelefone1" required placeholder="Informe o Telefone 1" asp-for="Telefone1">
                </div>
                
                <div class="form-group col-6">
                    <label for="inputNome">Telefone 2</label>
                    <input type="text" class="form-control" id="inputTelefone2" required placeholder="Informe o Telefone 2" asp-for="Telefone2">
                </div>
                </div>
                
                <div class="form-group col-8">
                    <label for="inputNome"> E-mail (*)</label>
                    <input type="text" class="form-control" id="inputEmail" required placeholder="Informe o E-mail" asp-for="Email">
                </div>
                
                            
                <div class="form-group col-8">
                    <label for="inputSite">Oficina (*)</label>
                    <input type="text" class="form-control" id="inputOficina" required placeholder="Informe a Oficina" asp-for="Id_oficina">
                </div>
                
                
                <div class="col-sm-8">
                    <label for="inputSite">Opção (*)</label>
                    <input type="text" class="form-control" id="inputOpOficina" asp-for="Opcao_cadastro">
                </div>    

                <div class="form-group row">
                    <div class="form-group">
                    <small>(*) Campos obrigatórios</small>
                    </div>
                </div>
        
                <div class="form-group row pb-3 float-end">
                    <div class="col-sm-17">
                        <button type="submit" class="btn btn-success btn-sm" id="btnInsert">Inserir</button>
                        <button type="submit" class="btn btn-warning btn-sm" id="btnUpdate">Alterar</button>
                        <button type="submit" class="btn btn-danger btn-sm" id="btnDelete">Excluir</button>
                        <button type="submit" class="btn btn-secondary btn-sm" id="btnClear">Limpar Form</button>
                    </div>
                </div>
            </div>
            </form>
            </div>
        </div>
    </div>
}



